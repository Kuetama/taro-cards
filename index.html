<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Карты таро</title>
  <meta name="description" content="Работа с метафорическими картами. Оффлайн, с рубашкой и анимацией.">
      <!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0a3d62">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%232c3e50'/><text x='50' y='55' font-size='40' fill='white'>&%23x1F09B;</text></svg>">
  
  <link rel="stylesheet" href="style.css" />

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">

<!-- Иконка для iOS -->
<link rel="apple-touch-icon" href="icon-192.png">
<!-- Иконка для Android -->
<link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png">

<!-- <script type="module" src="app.js"></script> -->
</head>

<body>
  <header>
    <h1>Таро</h1>
  </header>

  <!-- Загрузка и инструкция -->
  <section class="top-actions">

    <input type="file" id="fileInput" accept=".json" style="display:none;">
    <button class="button" id="loadDeckBtn">Добавить колоду</button>
    <button class="button" id="howToBtn">Как работать с картами</button>

  </section>

  <!-- Список сохранённых колод -->
  <section>
    <h2>Ваши колоды</h2>
    <div id="decksList">Загрузка...</div>
  </section>

  <!-- Управление -->
  <section class="actions">
    <button class="button" id="show1Btn">1 карта</button>
    <button class="button" id="show3Btn">3 карты</button>
    <!-- <button class="glow-on-hover" id="showAllBtn">Показать все</button> -->
    </section>
    <section class="actions">
    <button class="button" id="shuffleBtn">Перемешать</button>
    <button class="button" id="clearBtn">Очистить</button>
    <button class="button" id="toggleBackBtn">Рубашка: ВКЛ</button>
  </section>

  <!-- Стол -->
   <section>
  <div id="deckInfo">Колода не выбрана</div>
  <div id="cardsContainer" class="cards-container"></div>
  </section>

  <!-- Модальное окно -->
  <div id="modal" class="modal hidden">
    <div class="modal-content">
      <span id="closeModal" class="close">&times;</span>
      <h3 id="modalTitle"></h3>
      <img id="modalImage" src="" alt="">
      <div id="modalDesc"></div>
    </div>
  </div>  

  <script src="app.js"></script>
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js')
        .then(reg => console.log('✅ SW registered:', reg.scope))
        .catch(err => console.error('❌ SW registration failed:', err));
    });
  }
</script>
</body>
</html>